= General Slim

A slimmed down version of general intended to operate at a small scale, similar to Advance Wars, aimed at testing out some of the ideas I have for a larger scale version of this game. The intention is to build effectively a limited Advance wars-system clone, and then evolve some of the ideas. Expected features of the clone product are as follows, with differences from advance wars in italics

* A small grid/tile based map
* Multiple unit types with movement rates and attack characteristics
* Terrain types affecting movement
* Direct orders
* No command structure
* Turn based
* Fog of war
* AI enemy commander
* Roads, rivers, cities
* _No base building_
* _No air or sea_

== Code structure

----
        ui
  |------|
game     |
  |------|-----|
input    |     |
  |-----||     |
       forces field
----

== Iteration goals

* Moveable units
* Combat
* Terrain
* AI

=== Iteration 1: A map with movable units

* DONE A small ~10x10 map with no terrain features 
* DONE Two opposing forces of two infantry units each  
* DONE Units can be issued orders to move 1 square  
* DONE No AI, player plays both sides  
* DONE End turn on "c"  
* DONE UI for displaying field and issuing orders  
* DONE Cursor  
* DONE Select units  
* DONE cursor doesn't go OOB  
* DONE error handling for movement~
* DONE Highlight moveable area  

* DONE Opacity for select  
* DONE Iteration 1a: units can't move twice in a turn  
* DONE ending turn refreshes sides move-points  
* DONE Iteration 1b: box display of cursor coord, whose turn  
* DONE Status box moves if cursor is over it  

== Iteration 2: Combat

* DONE units have HP  
* DONE Units name and HP displayed in status box  
* DONE Units are destroyed and removed from the map when their HP reaches zero  
* DONE Units can attack one another  
* DONE Units have attack and defense power, which impacts the HP they lose in combat  
* DONE Attack power depends on strength  

* DONE Unit identfiers on tile  
* DONE A second, Cavalry unit type is added  
* DONE Cavalry can move 2 spaces  
* DONE move points refesh from max move points  
* DONE highlight shows manhattan distance based on move points 
* DONE Fix routing so you can't do that loop thing   Hacked!
* DONE can move 2 squares at once  
* DONE Cavalry have different attack characteristics  
* DONE Attack/Def chars in menu  

== Iteration 3: Terrain and features

* DONE Map has forests
* DONE and lower movement rate
* DONE Display HP on unit tile, get rid of status box
* DONE Debug box
* DONE Have moving into forests decrease movement rate accordingly
* DONE Top left turn indicator
* DONE increased defence 
* DONE Map has mountains, impassible by cavalry
* DONE Map has roads, and units have increased range on roads
* DONE Roads draw based on direction properly
* DONE forked roads and crossroads
* DONE (but broke attacking) Fix units moving though other units
* DONE Fix attack / Attack after move
** DONE AW style wait menu after move
** DONE add attack option if enemy unit in adjacent
* DONE variable size levels

* DONE Move non-quil specific handlers to game NS
* DONE Scalable tile size
* Separate order handling into own NS?
* DONE Move debug stuff to game NS
* DONE refactor debug text stuff
* DONE Cursor to target on attack
* DONE add wasd support
* DONE see move range on clicking enemy unit
* DONE Bug: units can't _not_ move and then attack
* DONE Bug: unit is still selected when finished move and no attack option
* DONE BUG selecting no unit throws
* DONE Better combat system
* DONE In battles, attackers losses are modified by the terrain they're on (think this is why my losses aren't same as AW).
* DONE Bug: in battle, attackers losses are not impacted by defenders hp
* DONE REPLICATE FIRST AW LEVEL
* DONE Change order system to a sort of queue
** DONE Issue move order, target square has a 'shadow' of unit on it but unit doesn't move
** DONE Can issue attack order (or wait) from shadow. Attack order gets queued behind the move order
** DONE Once attack/wait commmand is issued _then_ the unit moves and attacks
* DONE BUG: not moving costs a movement point (Maybe just don't send an empty move order?)
* DONE BUG: end highlight / select on end turn
* DONE BUG: Units can move after attacking
* DONE BUG: Can end turn in menu mode
* DONE BUG: Roads not scaling
* DONE Sprites: Units, Field, Mountain, Trees 
* DONE: cancel out of order mid move
* DONE: Artillery
* DONE: Map builder stuff
* DONE: level persistence

* DONE Scenario namespace
* DONE Persist unit tables
* DONE Persist scenarios

* DONE Make units a bit transparent so you can see terrain underneath
* DONE Move units a bit so they're not blocking text
* Little circles on units with HP
* round edges of rect?
* Rivers
* FOW
* AI
* enemy unit info - attack range on button hold
* Combat still sucks
* Message display system (-> message, seconds to display)
* Draw terrain on static layer (Don't know how to do this!)
* Artillery, make terrain tables better

== Post MVP

* Bug?: units can completely eliminate eachother in combat
* Commander skill
* Facing and flanking
* Supplies / Wagons
* Hills
* Morale Retreat and rout
* Friendly FOW
* Status: Moving, Organizing, Deployed, Dug in

== scratch

Select move:
* Add move to dispatch
* Is there an attack option after the move?
* Pop menu with 'send order' and 'attack' if there is an attack option